## PostgreSQL для администраторов баз данных и разработчиков ##  
## Занятие 23. Хранимые функции и процедуры, часть 3. ##  
# Домашнее задание # 

>Скрипт и развернутое описание задачи – в ЛК (файл hw_triggers.sql) или по ссылке: https://disk.yandex.ru/d/l70AvknAepIJXQ  
>В БД создана структура, описывающая товары (таблица goods) и продажи (таблица sales).  
>Есть запрос для генерации отчета – сумма продаж по каждому товару.  
>БД была денормализована, создана таблица (витрина), структура которой повторяет структуру отчета.  
>Создать триггер на таблице продаж, для поддержки данных в витрине в актуальном состоянии (вычисляющий при каждой продаже сумму и записывающий её в витрину).  
>Подсказка: не забыть, что кроме INSERT есть еще UPDATE и DELETE. 

С помощью скрипта hw_triggers.sql создал схему pract_functions, таблицы goods, sales, good_sum_mart.

-------------------------------------
>Задание со звездочкой*  
>Чем такая схема (витрина+триггер) предпочтительнее отчета, создаваемого "по требованию" (кроме производительности)?  
>Подсказка: В реальной жизни возможны изменения цен.  

Схема витрина+триггер позволяет учитывать продажи по ценам, которые были в момент продажи.

